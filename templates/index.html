<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Subnets - pyIPAM</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>

<!-- App Header -->
<header class="app-header">
    <h1 class="app-title">pyIPAM</h1>
    <p class="app-subtitle">made by moruscerberus</p>
</header>

<!-- Dark Mode Toggle -->
<button id="darkToggle" class="dark-toggle" title="Toggle Dark Mode">üåô</button>

<div class="container">
    <h2>All Subnets</h2>

    <!-- Subnet List -->
    <table>
        <thead>
            <tr>
                <th>CIDR</th>
                <th>Description</th>
                <th>View</th>
                <th>Usage</th> <!-- Progress Bar Column -->
                <th>Conflict Warning</th> <!-- IP Conflict Warning Column -->
            </tr>
        </thead>
        <tbody>
            {% for subnet in subnets %}
            <tr>
                <td>{{ subnet.cidr }}</td>
                <td>{{ subnet.description }}</td>
                <td>
                    <a href="{{ url_for('view_subnet', subnet_id=subnet.id) }}">
                        üîç View
                    </a>
                </td>
                <td>
                    <!-- Progress Bar with Percentage -->
                    <div class="progress-container">
                        <div class="progress-bar" style="width: {{ subnet.used_percentage }}%;"></div>
                        <span class="progress-label">{{ subnet.used_percentage }}%</span>  <!-- Percentage label -->
                    </div>
                </td>
                <td>
                    <!-- IP Conflict Warning -->
                    {% if subnet.ip_conflict %}
                        <a href="{{ url_for('view_conflicts', subnet_id=subnet.id) }}" class="warning-icon">
                            ‚ö†Ô∏è IP Conflict Detected!
                        </a>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- JS -->
<script src="{{ url_for('static', filename='js/script.js') }}"></script>

</body>
</html>
